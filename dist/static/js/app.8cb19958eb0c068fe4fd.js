webpackJsonp([1],[,,,,,,,,,,function(e,t,a){"use strict";var r=a(28),s=a.n(r),n=a(17),i=a.n(n),o=i.a.rootUrl,l=i.a.tokenId,c={headers:{authorization:l}},u=function(e){return{headers:{authorization:l||e}}};t.a={getUsers:function(){return s.a.get(o+"/users",c)},getUser:function(e,t){return s.a.get(o+"/users/"+e,u(t))},subscribeTo:function(e,t){return s.a.post(o+"/subscribe",e,u(t))},getMovies:function(){return s.a.get(o+"/movies",c)},getDiffusedMovies:function(){return s.a.get(o+"/movies/popular",c)},getMovie:function(e){return s.a.get(o+"/movies/"+e,c)},postMovie:function(e){return s.a.post(o+"/movies/create",e,c)},updateMovie:function(e,t){return s.a.put(o+"/movies/"+e,t,c)},removeMovie:function(e){return s.a.delete(o+"/movies/"+e,c)},signin:function(e){return s.a.post(o+"/signin",e,c)}}},,,,,,,function(e,t,a){e.exports={rootUrl:"https://chap-server.herokuapp.com/api",ftpUrl:"https://ayho.fr/uploads",tokenId:localStorage.getItem("token")}},,,,,,,,,,,,,,,,,,,,function(e,t,a){function r(e){a(365)}var s=a(1)(a(271),a(416),r,"data-v-e456037e",null);e.exports=s.exports},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){function r(e){a(366)}var s=a(1)(a(262),a(417),r,null,null);e.exports=s.exports},,,,,,,,,function(e,t,a){"use strict";var r=a(72),s=a.n(r),n=a(71),i=a.n(n),o=a(288),l=a.n(o),c=a(289),u=a.n(c),d=a(0),m=a.n(d),f=a(369),v=(a.n(f),a.i(f.extendMoment)(m.a)),p=function(){function e(t,a){l()(this,e),this.start=v([a,t]),this.end=this.start.clone().endOf("month"),this.month=t,this.year=a}return u()(e,[{key:"getWeekStart",value:function(){return this.start.weekday()}},{key:"getWeeks",value:function(){return this.end.week()-this.start.week()+1}},{key:"getDays",value:function(){var e=v.range(this.start,this.end),t=!0,a=!1,r=void 0;try{for(var n,o=s()(e.by("month"));!(t=(n=o.next()).done);t=!0){n.value.format("YYYY-MM-DD")}}catch(e){a=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(a)throw r}}return i()(e.by("days")).map(function(e){return e})}},{key:"getFormatted",value:function(){return this.start.format("MMMM YYYY")}}]),e}();t.a=p},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){function r(e){a(359)}var s=a(1)(a(269),a(406),r,"data-v-47642e83",null);e.exports=s.exports},function(e,t,a){function r(e){a(355)}var s=a(1)(a(272),a(401),r,null,null);e.exports=s.exports},function(e,t,a){function r(e){a(349)}var s=a(1)(a(273),a(395),r,null,null);e.exports=s.exports},,,function(e,t,a){"use strict";var r=a(3),s=a(418),n=a(383),i=a.n(n),o=a(392),l=a.n(o),c=a(390),u=a.n(c),d=a(391),m=a.n(d),f=a(388),v=a.n(f),p=a(385),h=a.n(p),g=a(387),_=a.n(g),b=a(386),y=a.n(b),k=a(384),x=a.n(k),j=a(381),w=a.n(j);r.default.use(s.a),t.a=new s.a({routes:[{path:"/",name:"Home",component:i.a},{path:"/signin",name:"Signin",component:w.a},{path:"/users",name:"Users",component:l.a,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/users/:id",name:"User",component:u.a,meta:{requiresAuth:!0,requiresAdmin:!1},props:!0},{path:"/users/:id/edit",name:"UserEdit",component:m.a,meta:{requiresAuth:!0,requiresAdmin:!1}},{path:"/movies",name:"Movies",component:v.a},{path:"/movies/add",name:"MovieCreate",component:h.a,meta:{requiresAuth:!0,requiresAdmin:!0},props:!0},{path:"/movies/:id",name:"Movie",component:y.a,props:!0},{path:"/movies/:id/edit",name:"MovieEdit",component:_.a,meta:{requiresAuth:!0,requiresAdmin:!0},props:!0},{path:"/infos",name:"Infos",component:x.a}]})},function(e,t,a){"use strict";a.d(t,"a",function(){return l});var r=a(3),s=a(16),n=a(280),i=a(282),o=a(281);r.default.use(s.c);var l=new s.c.Store({state:{logged:!1,role:"",userId:"",subscribed:!1,token:""},getters:o,mutations:i,actions:n})},,function(e,t){},function(e,t,a){function r(e){a(356)}var s=a(1)(a(257),a(403),r,"data-v-3a5fbee6",null);e.exports=s.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(382),s=a.n(r);t.default={name:"app",components:{"ch-header":s.a}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(18),s=a.n(r),n=a(28),i=(a.n(n),a(10),a(16));t.default={data:function(){return{user:{email:"",password:""},rules:{email:[{required:!0,message:"Veuillez entrer un email",trigger:"blur"}],password:[{required:!0,message:"Veuillez entrer un password",trigger:"blur"}]}}},computed:s()({},a.i(i.a)(["auth"])),beforeUpdate:function(){this.auth.logged&&this.$router.push("/")},methods:s()({},a.i(i.b)(["login"]),{resetForm:function(e){this.$refs[e].resetFields()},onSubmit:function(e){var t=this;console.log("Submitting ..."),this.$refs[e].validate(function(e){if(!e)return t.$notify({title:"Error",message:"An error occured",type:"error"}),!1;t.login(t.user),console.log("test")})},back:function(){this.$router.push("/")}})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(18),s=a.n(r),n=a(16),i=a(10);t.default={data:function(){return{activeIndex:"1",activeIndex2:"1",user:{},token:""}},computed:s()({},a.i(n.a)(["auth"])),created:function(){var e=this;this.auth.logged&&i.a.getUser(this.auth.userId,this.token).then(function(t){e.user=t.data}).catch(function(e){console.log(e)})},beforeUpdate:function(){this.token=this.auth.token},methods:s()({},a.i(n.b)(["logout"]),{disconnect:function(){this.logout()},handleSelect:function(e,t){}})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(10),s=a(37),n=a.n(s),i=a(61),o=a.n(i),l=a(389),c=a.n(l),u=a(17),d=a.n(u);t.default={components:{"movie-card":o.a,"movie-list-popular":c.a,"image-loader":n.a},created:function(){var e=this;r.a.getMovies().then(function(t){e.carouselMovies=t.data.splice(0,3)})},data:function(){return{carouselMovies:[],apiRoot:d.a.rootUrl}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(426),s=(a.n(r),a(3));a(10);s.default.use(r,{load:{key:"AIzaSyDgekJpEuFLvMrFENwFdpi46rmKeZV9a50"}}),t.default={components:{},created:function(){},data:function(){return{center:{lat:45.5001538,lng:6.0483445},markers:[{position:{lat:45.5001538,lng:6.0483445}}]}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),s=a.n(r),n=a(17),i=a.n(n),o=a(37),l=a.n(o);console.log(i.a.rootUrl),t.default={props:["movie"],components:{"image-loader":l.a},computed:{availabilities:function(){var e=s()();return this.movie.dates.filter(function(t){return s.a.unix(t)>e}).map(function(e){return s.a.unix(e).format("dddd DD MMM YYYY")})}},data:function(){return{cover:i.a.ftpUrl+"/"+this.movie.cover,loadedImage:!1}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(18),s=a.n(r),n=a(28),i=(a.n(n),a(208)),o=a.n(i),l=a(209),c=a.n(l),u=a(210),d=a.n(u),m=a(0),f=a.n(m),v=a(17),p=a.n(v),h=a(10),g=a(40),_=(a.n(g),a(16));t.default={data:function(){return{apiRoot:p.a.rootUrl,form:{title:"",synopsis:"",cover:"",bgCover:"",language:"",checkList:[],duration:"",imageSet:[],actors:[],genres:[],releaseDate:"",desc:"",dates:[],authors:[],trailer:"",diffused:!1},rules:{title:[{required:!0,message:"Veuillez entrer un titre",trigger:"blur"}]},dialogImageUrl:"",trailerId:"",languages:[{value:"Anglais",label:"Anglais"},{value:"Français",label:"Français"},{value:"Espagnol",label:"Espagnol"},{value:"Allemand",label:"Allemand"},{value:"Italien",label:"Italien"}],genres:[{value:"Action/Aventure",label:"Action/Aventure"},{value:"Science Fiction",label:"Science Fiction"},{value:"Romance",label:"Romance"},{value:"Thriller",label:"Thriller"},{value:"Biopic",label:"Biopic"},{value:"Comédie",label:"Comédie"}],dialogVisible:!1,cover:"",bgCover:"",imageSet:[],dates:[],authentification:!1,now:f()().format()}},components:{"cs-datepicker":o.a,"cs-tags":c.a,"cs-tagslist":d.a},computed:s()({getTrailerUrl:function(){return this.trailerId=this.$youtube.getIdFromURL(this.form.trailer),this.$youtube.getIdFromURL(this.form.trailer)},formatDates:function(){return this.form.dates.map(function(e){return f.a.unix(e).format("LLLL")})}},a.i(_.a)(["auth"])),beforeUpdate:function(){this.auth.logged&&"admin"===this.auth.role||this.$router.push("/signin")},methods:{submitCover:function(){this.$refs.upCover.submit()},changeCover:function(){this.cover=""},submitImages:function(){0!=this.imageSet.length?this.$refs.upload.submit():console.error("No files added")},pushImages:function(e,t){this.imageSet.push(e)},handleRemove:function(e,t){var a=this.imageSet.filter(function(t){return t.name!==e.name});this.imageSet=a},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleCoverPreview:function(e){this.cover=e.url},handleAvatarSuccess:function(e,t){console.log(e),this.cover=URL.createObjectURL(t.raw),this.form.cover=e.cover[0].filename,this.$notify({title:"Success",message:"Images uploaded !",type:"success"})},handleListSuccess:function(e,t){console.log(e),this.form.imageSet.push(e.images[0].filename),console.log(this.form.imageSet),this.$notify({title:"Success",message:"Images uploaded !",type:"success"})},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("Avatar picture must be JPG format!"),a||this.$message.error("Avatar picture size can not exceed 2MB!"),t&&a},updateDate:function(e){this.form.dates=e,console.log(this.form.dates)},back:function(){this.$router.push("/movies")},resetForm:function(e){this.$refs[e].resetFields()},onSubmit:function(e){var t=this;console.log(this.form),console.log(e),this.$refs[e].validate(function(e){if(console.log(e),!e)return t.$notify({title:"Error",message:"An error occured",type:"error"}),!1;t.form.trailer=t.trailerId,h.a.postMovie(t.form).then(function(e){t.$notify({title:"Success",message:"Film posté !",type:"success"}),t.$router.push("/movies"),console.log(e)}).catch(function(e){t.$notify({title:"Error",message:e,type:"error"})})})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(18),s=a.n(r),n=a(10),i=a(37),o=a.n(i),l=a(16),c=a(17),u=a.n(c);t.default={props:["id"],components:{"image-loader":o.a},created:function(){var e=this;n.a.getMovie(this.id).then(function(t){e.movie=t.data,e.dates=t.data.dates,e.imageSet=e.movie.imageSet.map(function(e){return u.a.rootUrl+"/uploads/"+e}),e.bgCover=u.a.ftpUrl+"/"+t.data.imageSet[0],e.cover=u.a.ftpUrl+"/"+t.data.cover})},beforeUpdate:function(){var e={userId:this.auth.userId,movieId:this.movie._id};this.checkSubscription(e),this.isSubscribed=this.auth.subscribed},data:function(){return{movie:{},bgCover:"",cover:"",imageSet:[],dates:[],trailerEnabled:!1,displayTitle:!0,downWrapper:!1,trailerOptions:{autoplay:0,controls:1,showinfo:0,modestbranding:0,loop:0,fs:1,rel:0,cc_load_policy:0,iv_load_policy:3,autohide:0},isSubscribed:!1}},computed:s()({},a.i(l.a)(["auth"])),methods:s()({},a.i(l.b)(["checkSubscription"]),{ready:function(e){this.player=e},playTrailer:function(){this.trailerEnabled=!0,this.player.playVideo()},animateTitle:function(e){"playing"==e?(this.displayTitle=!1,this.downWrapper=!0):(this.displayTitle=!0,this.downWrapper=!1,this.trailerEnabled=!1)},subscribe:function(){var e=this,t={userId:this.auth.userId,movieId:this.movie._id};n.a.subscribeTo(t,this.auth.token).then(function(t){e.isSubscribed=!e.isSubscribed,e.$notify({title:"Subscribed!",message:"Tu as bien été enregistré!",type:"success"})}).catch(function(t){e.$notify({title:":(",message:"Tu est déjà inscrit !",type:"error"})})}})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(18),s=a.n(r),n=a(28),i=(a.n(n),a(208)),o=a.n(i),l=a(209),c=a.n(l),u=a(210),d=a.n(u),m=a(0),f=a.n(m),v=a(10),p=a(40),h=(a.n(p),a(17)),g=a.n(h),_=a(16);t.default={props:["id"],data:function(){return{apiRoot:g.a.rootUrl,form:{title:"",synopsis:"",cover:"",language:"",checkList:[],duration:"",imageSet:[],actors:[],genres:[],releaseDate:"",desc:"",dates:[],authors:[],trailer:"",diffused:!1},rules:{title:[{required:!0,message:"Veuillez entrer un titre",trigger:"blur"}]},dialogImageUrl:"",trailerId:"",languages:[{value:"Anglais",label:"Anglais"},{value:"Français",label:"Français"},{value:"Espagnol",label:"Espagnol"},{value:"Allemand",label:"Allemand"},{value:"Italien",label:"Italien"}],genres:[{value:"Action/Aventure",label:"Action/Aventure"},{value:"Science Fiction",label:"Science Fiction"},{value:"Romance",label:"Romance"},{value:"Thriller",label:"Thriller"},{value:"Biopic",label:"Biopic"},{value:"Comédie",label:"Comédie"}],fileList:[],dialogVisible:!1,cover:"",imageSet:[],now:f()().format()}},components:{"cs-datepicker":o.a,"cs-tags":c.a,"cs-tagslist":d.a},computed:s()({getTrailerUrl:function(){return this.$youtube.getIdFromURL(this.form.trailer)}},a.i(_.a)(["auth"])),beforeUpdate:function(){this.auth.logged&&"admin"===this.auth.role||this.$router.push("/signin")},created:function(){var e=this;v.a.getMovie(this.id).then(function(t){e.form=t.data,t.data.imageSet.forEach(function(t){e.fileList.push({name:t,url:g.a.ftpUrl+"/"+t})}),e.cover=g.a.ftpUrl+"/"+t.data.cover})},methods:{submitCover:function(){this.$refs.upCover.submit()},changeCover:function(){this.cover=""},submitImages:function(){0!=this.form.imageSet.length?this.$refs.upload.submit():console.error("No files added")},handleAvatarSuccess:function(e,t){this.cover=URL.createObjectURL(t.raw),this.form.cover=e.cover[0].filename,this.$notify({title:"Success",message:"Images uploaded !",type:"success"})},handleListSuccess:function(e,t){this.$notify({title:"Success",message:"Images uploaded !",type:"success"})},pushImages:function(e,t){var a=t.map(function(e){return e.name});this.form.imageSet=a},handleRemove:function(e,t){var a=this.form.imageSet.filter(function(t){return t!==e.name});this.form.imageSet=a},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleCoverPreview:function(e){this.cover=e.url},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("Avatar picture must be JPG format!"),a||this.$message.error("Avatar picture size can not exceed 2MB!"),t&&a},updateDate:function(e){this.form.dates=e},resetForm:function(e){this.$refs[e].resetFields()},onSubmit:function(e){var t=this;console.log("Submitting ..."),this.$refs[e].validate(function(e){if(!e)return t.$notify({title:"Error",message:"An error occured",type:"error"}),!1;t.form.trailer=t.$youtube.getIdFromURL(t.form.trailer),v.a.updateMovie(t.id,t.form).then(function(e){t.$notify({title:"Success",message:"Film mis à jour !",type:"success"}),t.$router.push("/movies/"+t.id)}).catch(function(e){t.$notify({title:"Error",message:e,type:"error"})})})},deleteMovie:function(){var e=this;this.$confirm("Are you sure to delete this movie ?").then(function(t){console.log("Deleting ..."),v.a.removeMovie(e.id).then(function(t){e.$notify({title:"Success",message:"Film supprimé !",type:"success"}),e.$router.push("/movies")})}).catch(function(t){e.$notify({title:"Error",message:t,type:"error"})})},back:function(){this.$router.push("/movies/"+this.id)}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(18),s=a.n(r),n=a(10),i=a(61),o=a.n(i),l=a(16);t.default={components:{"movie-card":o.a},created:function(){var e=this;n.a.getMovies().then(function(t){return e.movies=t.data})},computed:s()({},a.i(l.a)(["auth"])),data:function(){return{movies:[]}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(10),s=a(61),n=a.n(s);t.default={components:{"movie-card":n.a},created:function(){var e=this;r.a.getDiffusedMovies().then(function(t){return e.movies=t.data})},data:function(){return{movies:[]}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(18),s=a.n(r),n=a(290),i=a.n(n),o=a(10),l=a(0),c=a.n(l),u=a(17),d=a.n(u),m=a(37),f=a.n(m),v=a(16),p=a(70);t.default={components:{"image-loader":f.a},created:function(){var e=this;o.a.getUser(this.auth.userId,this.auth.token).then(function(t){e.user=t.data});var t=c()(),a=new p.a(t.month(),t.year());this.month=a,this.days=this.getDaysFormat(),o.a.getMovies(this.auth.userId,this.auth.token).then(function(t){var a;e.movies=t.data,console.log(e.movies);var r=e.movies.filter(function(e){return e.diffused}).map(function(e){return e.dates});e.tableData=(a=[]).concat.apply(a,i()(r)).map(function(t){var a=c.a.unix(t).format("DD-MM-YYYY"),r=e.movies.filter(function(e){return-1!==e.dates.indexOf(t)}).map(function(e){return{title:e.title,_id:e._id,cover:e.cover,desc:e.desc}});return{date:a,title:r[0].title,id:r[0]._id,cover:r[0].cover,desc:r[0].desc}})})},beforeUpdate:function(){this.auth.logged||this.$router.push("/signin")},computed:s()({},a.i(v.a)(["auth"])),methods:{handleClick:function(e,t){var a={userId:this.auth.userId,date:t[e].date,movieId:t[e].id};console.log(a)},getDaysFormat:function(){return this.month.getDays().map(function(e){return e.unix()})}},data:function(){return{imgUrl:d.a.ftpUrl,user:{},movies:[],days:[],month:null,tableData:[]}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),s=a.n(r),n=a(393),i=a.n(n);s.a.locale("fr"),t.default={components:{"dp-agenda":i.a},props:{value:{type:String,require:!0},format:{type:String,default:"YYYY-MM-DD"},name:{type:String}},methods:{selectDate:function(e){this.date=e,this.inputVal=e.map(function(e){return s.a.unix(e).format("LLLL")}),this.hideAgenda(),this.$emit("change",this.date)},showAgenda:function(){var e=this;this.isVisible=!this.isVisible,setTimeout(function(){return document.addEventListener("click",e.hideAgenda)},0)},hideAgenda:function(){this.isVisible=!1,document.removeEventListener("click",this.hideAgenda)}},data:function(){return{isVisible:!1,date:s()(this.value,"YYYY-MM-DD"),inputVal:"Sélectionnez une date"}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),s=(a.n(r),a(70));t.default={props:{date:{},visible:{type:Boolean,default:!0}},data:function(){return{weekDays:["L","M","M","J","V","S","D"],month:new s.a(this.date.month(),this.date.year()),classDirection:"off",mutatedDate:this.date,multi:[],isToday:!0}},computed:{year:function(){return this.mutatedDate.format("YYYY")},formatted_date:function(){return this.mutatedDate.format("dddd DD MMM")},classWeeks:function(){return"has-"+this.month.getWeeks()+"-weeks"}},methods:{isSelected:function(e){return this.mutatedDate.unix()===e.unix()},selectDate:function(e){if(this.isToday=!1,this.isInArray(e)){var t=this.multi.indexOf(e.unix());this.multi.splice(t,1)}else this.mutatedDate=e.clone(),this.multi.push(this.mutatedDate.unix())},isInArray:function(e){var t=e.unix();return-1!==this.multi.indexOf(t)},nextMonth:function(){this.classDirection="direction-next";var e=this.month.month+1,t=this.month.year;e>11&&(t+=1,e=0),this.month=new s.a(e,t)},prevMonth:function(){this.classDirection="direction-prev";var e=this.month.month-1,t=this.month.year;e<0&&(t-=1,e=11),this.month=new s.a(e,t)},submit:function(){this.$emit("change",this.multi)},cancel:function(){this.$emit("cancel")}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(375),s=a.n(r);t.default={props:["classname","imageUrl"],directives:{imagesLoaded:s.a},data:function(){return{loadedImage:!1}},methods:{imageProgress:function(e,t){this.loadedImage=t.isLoaded}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["value"],computed:{editableValue:{get:function(){return(this.value||[]).join(",")},set:function(e){this.$emit("input",e.split(","))}}},data:function(){return{editable:this.value}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["value"],methods:{remove:function(e){var t=this.value.slice();t.splice(e,1),this.$emit("input",t)}},data:function(){return{editable:this.value}}}},,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(3),s=a(63),n=a.n(s),i=a(216),o=(a.n(i),a(215)),l=a.n(o),c=a(217),u=a.n(c),d=a(213),m=a(40),f=a.n(m),v=a(214);r.default.use(f.a),r.default.config.productionTip=!1,r.default.use(n.a,{locale:l.a}),localStorage.getItem("token")&&(v.a.commit("granted",localStorage.getItem("user")),v.a.commit("role",localStorage.getItem("role"))),d.a.beforeEach(function(e,t,a){e.matched.some(function(e){return e.meta.requiresAuth})&&e.matched.some(function(e){return e.meta.requiresAdmin})?v.a.getters.auth.logged&&"admin"===v.a.getters.auth.role?a():a({path:"/signin",query:{redirect:e.fullPath}}):e.matched.some(function(e){return e.meta.requiresAuth})?v.a.getters.auth.logged?a():a({path:"/signin",query:{redirect:e.fullPath}}):a()}),new r.default({el:"#app",router:d.a,store:v.a,template:"<App/>",components:{App:u.a}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.d(t,"login",function(){return n}),a.d(t,"logout",function(){return i}),a.d(t,"checkSubscription",function(){return o});var r=a(10),s=a(63),n=(a.n(s),function(e,t){var n=e.commit;r.a.signin(t).then(function(e){console.log(e),localStorage.setItem("token",e.data.token),localStorage.setItem("role",e.data.user.role),localStorage.setItem("user",e.data.user._id),a.i(s.Notification)({title:"Success",message:"Bienvenue, petit(e)!",type:"success"}),n("granted",e.data.user._id),n("role",e.data.user.role),n("token",e.data.token)}).catch(function(e){a.i(s.Notification)({title:"Error",message:"err",type:"error"})})}),i=function(e){(0,e.commit)("denied"),localStorage.clear()},o=function(e,t){var a=e.commit,s=t.movieId,n=t.userId;r.a.getMovie(s).then(function(e){-1!==e.data.volunteers.indexOf(n)?a("checkSub",!0):a("checkSub",!1)})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.d(t,"auth",function(){return r});var r=function(e){return{logged:e.logged,role:e.role,userId:e.userId,subscribed:e.subscribed,token:e.token}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.d(t,"granted",function(){return r}),a.d(t,"denied",function(){return s}),a.d(t,"role",function(){return n}),a.d(t,"checkSub",function(){return i}),a.d(t,"token",function(){return o});var r=function(e,t){e.logged=!0,e.userId=t},s=function(e){e.logged=!1,e.userId=""},n=function(e,t){e.role=t},i=function(e,t){e.subscribed=t},o=function(e,t){e.token=t}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,function(e,t,a){function r(e){return a(s(e))}function s(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var n={"./af":91,"./af.js":91,"./ar":98,"./ar-dz":92,"./ar-dz.js":92,"./ar-kw":93,"./ar-kw.js":93,"./ar-ly":94,"./ar-ly.js":94,"./ar-ma":95,"./ar-ma.js":95,"./ar-sa":96,"./ar-sa.js":96,"./ar-tn":97,"./ar-tn.js":97,"./ar.js":98,"./az":99,"./az.js":99,"./be":100,"./be.js":100,"./bg":101,"./bg.js":101,"./bn":102,"./bn.js":102,"./bo":103,"./bo.js":103,"./br":104,"./br.js":104,"./bs":105,"./bs.js":105,"./ca":106,"./ca.js":106,"./cs":107,"./cs.js":107,"./cv":108,"./cv.js":108,"./cy":109,"./cy.js":109,"./da":110,"./da.js":110,"./de":113,"./de-at":111,"./de-at.js":111,"./de-ch":112,"./de-ch.js":112,"./de.js":113,"./dv":114,"./dv.js":114,"./el":115,"./el.js":115,"./en-au":116,"./en-au.js":116,"./en-ca":117,"./en-ca.js":117,"./en-gb":118,"./en-gb.js":118,"./en-ie":119,"./en-ie.js":119,"./en-nz":120,"./en-nz.js":120,"./eo":121,"./eo.js":121,"./es":123,"./es-do":122,"./es-do.js":122,"./es.js":123,"./et":124,"./et.js":124,"./eu":125,"./eu.js":125,"./fa":126,"./fa.js":126,"./fi":127,"./fi.js":127,"./fo":128,"./fo.js":128,"./fr":131,"./fr-ca":129,"./fr-ca.js":129,"./fr-ch":130,"./fr-ch.js":130,"./fr.js":131,"./fy":132,"./fy.js":132,"./gd":133,"./gd.js":133,"./gl":134,"./gl.js":134,"./gom-latn":135,"./gom-latn.js":135,"./he":136,"./he.js":136,"./hi":137,"./hi.js":137,"./hr":138,"./hr.js":138,"./hu":139,"./hu.js":139,"./hy-am":140,"./hy-am.js":140,"./id":141,"./id.js":141,"./is":142,"./is.js":142,"./it":143,"./it.js":143,"./ja":144,"./ja.js":144,"./jv":145,"./jv.js":145,"./ka":146,"./ka.js":146,"./kk":147,"./kk.js":147,"./km":148,"./km.js":148,"./kn":149,"./kn.js":149,"./ko":150,"./ko.js":150,"./ky":151,"./ky.js":151,"./lb":152,"./lb.js":152,"./lo":153,"./lo.js":153,"./lt":154,"./lt.js":154,"./lv":155,"./lv.js":155,"./me":156,"./me.js":156,"./mi":157,"./mi.js":157,"./mk":158,"./mk.js":158,"./ml":159,"./ml.js":159,"./mr":160,"./mr.js":160,"./ms":162,"./ms-my":161,"./ms-my.js":161,"./ms.js":162,"./my":163,"./my.js":163,"./nb":164,"./nb.js":164,"./ne":165,"./ne.js":165,"./nl":167,"./nl-be":166,"./nl-be.js":166,"./nl.js":167,"./nn":168,"./nn.js":168,"./pa-in":169,"./pa-in.js":169,"./pl":170,"./pl.js":170,"./pt":172,"./pt-br":171,"./pt-br.js":171,"./pt.js":172,"./ro":173,"./ro.js":173,"./ru":174,"./ru.js":174,"./sd":175,"./sd.js":175,"./se":176,"./se.js":176,"./si":177,"./si.js":177,"./sk":178,"./sk.js":178,"./sl":179,"./sl.js":179,"./sq":180,"./sq.js":180,"./sr":182,"./sr-cyrl":181,"./sr-cyrl.js":181,"./sr.js":182,"./ss":183,"./ss.js":183,"./sv":184,"./sv.js":184,"./sw":185,"./sw.js":185,"./ta":186,"./ta.js":186,"./te":187,"./te.js":187,"./tet":188,"./tet.js":188,"./th":189,"./th.js":189,"./tl-ph":190,"./tl-ph.js":190,"./tlh":191,"./tlh.js":191,"./tr":192,"./tr.js":192,"./tzl":193,"./tzl.js":193,"./tzm":195,"./tzm-latn":194,"./tzm-latn.js":194,"./tzm.js":195,"./uk":196,"./uk.js":196,"./ur":197,"./ur.js":197,"./uz":199,"./uz-latn":198,"./uz-latn.js":198,"./uz.js":199,"./vi":200,"./vi.js":200,"./x-pseudo":201,"./x-pseudo.js":201,"./yo":202,"./yo.js":202,"./zh-cn":203,"./zh-cn.js":203,"./zh-hk":204,"./zh-hk.js":204,"./zh-tw":205,"./zh-tw.js":205};r.keys=function(){return Object.keys(n)},r.resolve=s,e.exports=r,r.id=370},function(e,t,a){e.exports=a.p+"static/img/mini_logo.a3af825.png"},,,,,function(e,t,a){var r=a(1)(a(274),a(407),null,null,null);e.exports=r.exports},function(e,t,a){var r=a(1)(a(275),a(409),null,null,null);e.exports=r.exports},function(e,t,a){function r(e){a(361)}var s=a(1)(a(276),a(412),r,null,null);e.exports=s.exports},function(e,t,a){var r=a(1)(a(277),a(402),null,null,null);e.exports=r.exports},function(e,t,a){function r(e){a(362)}var s=a(1)(a(278),a(413),r,null,null);e.exports=s.exports},function(e,t,a){function r(e){a(360)}var s=a(1)(a(258),a(410),r,null,null);e.exports=s.exports},function(e,t,a){function r(e){a(357)}var s=a(1)(a(259),a(404),r,"data-v-3ddb8f6b",null);e.exports=s.exports},function(e,t,a){function r(e){a(352)}var s=a(1)(a(260),a(398),r,null,null);e.exports=s.exports},function(e,t,a){function r(e){a(363)}var s=a(1)(a(261),a(414),r,"data-v-a8a33fd2",null);e.exports=s.exports},function(e,t,a){function r(e){a(354)}var s=a(1)(a(263),a(400),r,null,null);e.exports=s.exports},function(e,t,a){function r(e){a(364)}var s=a(1)(a(264),a(415),r,null,null);e.exports=s.exports},function(e,t,a){function r(e){a(353)}var s=a(1)(a(265),a(399),r,null,null);e.exports=s.exports},function(e,t,a){function r(e){a(358)}var s=a(1)(a(266),a(405),r,"data-v-467e5280",null);e.exports=s.exports},function(e,t,a){function r(e){a(351)}var s=a(1)(a(267),a(397),r,"data-v-1dc297a9",null);e.exports=s.exports},function(e,t,a){function r(e){a(348)}var s=a(1)(a(268),a(394),r,"data-v-122e04c1",null);e.exports=s.exports},function(e,t,a){var r=a(1)(null,a(411),null,null,null);e.exports=r.exports},function(e,t,a){var r=a(1)(null,a(408),null,null,null);e.exports=r.exports},function(e,t,a){function r(e){a(350)}var s=a(1)(a(270),a(396),r,"data-v-1c62646f",null);e.exports=s.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("\n    UserDetail "+e._s(e.user.email)+"\n    "),e._l(e.movies,function(t){return a("div",{key:t._id},[e._v("\n        "+e._s(t.title)+" "+e._s(t.dates)+"\n    ")])}),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"default-sort":{prop:"date",order:"ascending"}}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("image-loader",{attrs:{classname:"lazy",imageUrl:e.imgUrl+"/"+t.row.cover}})],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("p",[e._v("Date: "+e._s(t.row.date))]),e._v(" "),a("p",[e._v("Titre: "+e._s(t.row.title))]),e._v(" "),a("p",[e._v("Synopsis: "+e._s(t.row.desc))]),e._v(" "),a("router-link",{attrs:{to:"/movies/"+t.row.id}},[a("el-button",[e._v("Voir fiche")])],1)],1)],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"date",label:"Date",width:"180",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"title",label:"Name",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"volunteer",label:"Address"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"Operations",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){e.handleClick(t.$index,e.tableData)}}},[e._v("Subscribe")])]}}])})],1)],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",e._l(e.value,function(t,r){return a("el-tag",{key:r,staticStyle:{"margin-right":"2px"},attrs:{closable:!0},nativeOn:{click:function(t){e.remove(r)}}},[e._v(e._s(t))])}))},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"datepicker-slide"}},[e.visible?a("div",{staticClass:"datepicker",on:{click:function(e){e.stopPropagation()}}},[a("div",{staticClass:"datepicker__header"},[a("div",{staticClass:"datepicker__year"},[e._v(" "+e._s(e.year))]),e._v(" "),a("div",{staticClass:"datepicker__date"},[e._v(" "+e._s(e.formatted_date))])]),e._v(" "),a("div",{staticClass:"datepicker__controls"},[a("transition",{attrs:{name:"el-zoom-in-top"}},e._l([e.month],function(t){return a("div",{key:t,staticClass:"datepicker__controls__label",class:e.classDirection},[e._v(e._s(t.getFormatted()))])})),e._v(" "),a("button",{staticClass:"datepicker__next",on:{click:function(t){t.preventDefault(),e.nextMonth()}}},[a("i",{staticClass:"el-icon-arrow-right"})]),e._v(" "),a("button",{staticClass:"datepicker__prev",on:{click:function(t){t.preventDefault(),e.prevMonth()}}},[a("i",{staticClass:"el-icon-arrow-left"})])],1),e._v(" "),a("div",{staticClass:"datepicker__week"},e._l(e.weekDays,function(t){return a("div",{key:t,staticClass:"datepicker__weekdays"},[e._v(e._s(t))])})),e._v(" "),a("div",{staticClass:"datepicker__days",class:e.classWeeks},[a("transition-group",{attrs:{name:"el-fade-in-linear",tag:"div"}},e._l([e.month],function(t){return a("div",{key:t,class:e.classDirection},[a("div",{staticClass:"datepicker__day",style:{width:41*t.getWeekStart()+"px"}}),e._v(" "),e._l(t.getDays(),function(t){return a("div",{key:t,staticClass:"datepicker__day",class:{today:e.isSelected(t)&&e.isToday,selected:e.isInArray(t)},on:{click:function(a){e.selectDate(t)}}},[a("span",{staticClass:"datepicker__day__effect"}),e._v(" "),a("span",{staticClass:"datepicker__day__text"},[e._v(e._s(t.format("D")))])])})],2)}))],1),e._v(" "),a("div",{staticClass:"datepicker__actions"},[a("el-button",{on:{click:e.cancel}},[e._v("Annuler")]),e._v(" "),a("el-button",{on:{click:e.submit}},[e._v("Ok")])],1)]):e._e()])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"el-fade-in-linear"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"popular__movies"},[a("h2",[e._v("A l'affiche")]),e._v(" "),a("el-row",{attrs:{gutter:10}},e._l(e.movies,function(e,t){return a("el-col",{key:e._id,attrs:{xs:24,sm:12,md:6,lg:6}},[a("movie-card",{attrs:{movie:e}})],1)}))],1)])],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"el-fade-in-linear"}},[a("div",[a("el-carousel",{attrs:{interval:6e3,height:"0"}},e._l(e.carouselMovies,function(t){return a("el-carousel-item",{key:t._id},[a("div",{staticClass:"slide__overlay"}),e._v(" "),a("image-loader",{attrs:{classname:"lazy__bg",imageUrl:e.apiRoot+"/uploads/"+t.imageSet[0]}}),e._v(" "),a("div",{staticClass:"slide__desc"},[a("span",[e._v(e._s(t.releaseDate))]),e._v(" "),a("h3",[e._v(e._s(t.title))]),e._v(" "),a("p",[e._v(e._s(t.desc))]),e._v(" "),a("router-link",{staticClass:"goTo",attrs:{to:"/movies/"+t._id,tag:"a"}},[e._v("En savoir plus")])],1)],1)})),e._v(" "),a("el-col",{staticClass:"wrapper",attrs:{span:24}},[a("div",{staticClass:"movie__list"},[a("movie-list-popular")],1)])],1)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"el-fade-in-linear"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("h4",[e._v("Modifier le film | "+e._s(e.form.title))]),e._v(" "),a("el-form",{ref:"form",staticClass:"form-add",attrs:{rules:e.rules,"label-position":"top",model:e.form,"label-width":"120px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{xs:24,sm:24,md:8,lg:8}},[a("el-form-item",{attrs:{label:"Movie Cover"}},[a("el-upload",{ref:"upCover",staticClass:"avatar-uploader",attrs:{name:"cover",action:e.apiRoot+"/upload/cover","show-file-list":!1,"on-success":e.handleAvatarSuccess,"on-change":e.handleCoverPreview,"auto-upload":!1}},[e.cover?a("img",{staticClass:"avatar",attrs:{src:e.cover}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary"},on:{click:e.submitCover}},[e._v("Upload Cover")]),e._v(" "),a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"danger"},on:{click:e.changeCover}},[e._v("Delete Cover")])],1),e._v(" "),a("el-form-item",{attrs:{label:"Auteur(s)"}},[a("cs-tags",{model:{value:e.form.authors,callback:function(t){e.form.authors=t},expression:"form.authors"}}),e._v(" "),a("cs-tagslist",{model:{value:e.form.authors,callback:function(t){e.form.authors=t},expression:"form.authors"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Acteurs(s)"}},[a("cs-tags",{model:{value:e.form.actors,callback:function(t){e.form.actors=t},expression:"form.actors"}}),e._v(" "),a("cs-tagslist",{model:{value:e.form.actors,callback:function(t){e.form.actors=t},expression:"form.actors"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Genre(s)"}},[a("el-select",{attrs:{multiple:"",placeholder:"Select"},model:{value:e.form.genres,callback:function(t){e.form.genres=t},expression:"form.genres"}},e._l(e.genres,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"A l'affiche ?"}},[a("el-switch",{attrs:{"on-text":"Oui","off-text":"Non","on-color":"#13ce66","off-color":"#ff4949"},model:{value:e.form.diffused,callback:function(t){e.form.diffused=t},expression:"form.diffused"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:16,lg:16}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Titre",prop:"title"}},[a("el-input",{model:{value:e.form.title,callback:function(t){e.form.title=t},expression:"form.title"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Dates"}},[a("cs-datepicker",{attrs:{value:e.now,format:"DD/MM/YYYY",name:"Dates"},on:{change:e.updateDate}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{xs:12,sm:12,md:12,lg:12}},[a("el-form-item",{attrs:{label:"Durée"}},[a("el-input",{model:{value:e.form.duration,callback:function(t){e.form.duration=t},expression:"form.duration"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:12,sm:12,md:12,lg:12}},[a("el-form-item",{attrs:{label:"Date de sortie"}},[a("el-input",{model:{value:e.form.releaseDate,callback:function(t){e.form.releaseDate=t},expression:"form.releaseDate"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"Options"}},[a("el-checkbox-group",{model:{value:e.form.checkList,callback:function(t){e.form.checkList=t},expression:"form.checkList"}},[a("el-checkbox",{attrs:{label:"VF"}}),e._v(" "),a("el-checkbox",{attrs:{label:"VOSTR"}}),e._v(" "),a("el-checkbox",{attrs:{label:"3D"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"Langues"}},[a("el-select",{attrs:{placeholder:"Select"},model:{value:e.form.language,callback:function(t){e.form.language=t},expression:"form.language"}},e._l(e.languages,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"Description"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:8}},model:{value:e.form.desc,callback:function(t){e.form.desc=t},expression:"form.desc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Synopsis"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:8}},model:{value:e.form.synopsis,callback:function(t){e.form.synopsis=t},expression:"form.synopsis"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"trailer"}},[a("el-input",{model:{value:e.form.trailer,callback:function(t){e.form.trailer=t},expression:"form.trailer"}}),e._v(" "),a("transition",{attrs:{name:"el-fade-in-linear"}},[a("youtube",{directives:[{name:"show",rawName:"v-show",value:""!==e.form.trailer,expression:"form.trailer !== ''"}],attrs:{"video-id":e.getTrailerUrl,"player-height":"400px","player-width":"100%"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"Movie Gallery"}},[a("el-upload",{ref:"upload",attrs:{name:"images",action:e.apiRoot+"/upload/images","file-list":e.fileList,"list-type":"picture-card","on-change":e.pushImages,"on-preview":e.handlePictureCardPreview,"on-remove":e.handleRemove,"auto-upload":!1,"on-success":e.handleListSuccess}},[a("i",{staticClass:"el-icon-plus"})]),e._v(" "),a("el-dialog",{attrs:{size:"large"},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t},expression:"dialogVisible"}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})]),e._v(" "),a("el-button",{staticStyle:{"margin-top":"10px"},on:{click:e.submitImages}},[e._v("Upload Images")])],1)],1)],1)],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmit("form")}}},[e._v("Update")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:e.deleteMovie}},[e._v("Delete")]),e._v(" "),a("el-button",{on:{click:e.back}},[e._v("Cancel")])],1)],1)],1)],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"el-fade-in-linear"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("h4",[e._v("Ajouter un film")]),e._v(" "),a("el-form",{ref:"form",staticClass:"form-add",attrs:{"label-position":"top",rules:e.rules,model:e.form,"label-width":"120px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{xs:24,sm:24,md:8,lg:8}},[a("el-form-item",{attrs:{label:"Movie Cover"}},[a("el-upload",{ref:"upCover",staticClass:"avatar-uploader",attrs:{name:"cover",action:e.apiRoot+"/upload/cover","show-file-list":!1,"on-success":e.handleAvatarSuccess,"on-change":e.handleCoverPreview,"auto-upload":!1}},[e.cover?a("img",{staticClass:"avatar",attrs:{src:e.cover}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),e._v("\n                                "+e._s(e.form.cover)+"\n                            ")]),e._v(" "),a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary"},on:{click:e.submitCover}},[e._v("Upload Cover")]),e._v(" "),a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"danger"},on:{click:e.changeCover}},[e._v("Delete Cover")])],1),e._v(" "),a("el-form-item",{attrs:{label:"Auteur(s)"}},[a("cs-tags",{model:{value:e.form.authors,callback:function(t){e.form.authors=t},expression:"form.authors"}}),e._v(" "),a("cs-tagslist",{model:{value:e.form.authors,callback:function(t){e.form.authors=t},expression:"form.authors"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Acteurs(s)"}},[a("cs-tags",{model:{value:e.form.actors,callback:function(t){e.form.actors=t},expression:"form.actors"}}),e._v(" "),a("cs-tagslist",{model:{value:e.form.actors,callback:function(t){e.form.actors=t},expression:"form.actors"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Genre(s)"}},[a("el-select",{attrs:{multiple:"",placeholder:"Select"},model:{value:e.form.genres,callback:function(t){e.form.genres=t},expression:"form.genres"}},e._l(e.genres,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:16,lg:16}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Titre",prop:"title"}},[a("el-input",{model:{value:e.form.title,callback:function(t){e.form.title=t},expression:"form.title"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Dates"}},[a("cs-datepicker",{attrs:{value:e.now,format:"DD/MM/YYYY",name:"Dates"},on:{change:e.updateDate}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{xs:12,sm:12,md:12,lg:12}},[a("el-form-item",{attrs:{label:"Durée"}},[a("el-input",{model:{value:e.form.duration,callback:function(t){e.form.duration=t},expression:"form.duration"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:12,sm:12,md:12,lg:12}},[a("el-form-item",{attrs:{label:"Date de sortie"}},[a("el-input",{model:{value:e.form.releaseDate,callback:function(t){e.form.releaseDate=t},expression:"form.releaseDate"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"Options"}},[a("el-checkbox-group",{model:{value:e.form.checkList,callback:function(t){e.form.checkList=t},expression:"form.checkList"}},[a("el-checkbox",{attrs:{label:"VF"}}),e._v(" "),a("el-checkbox",{attrs:{label:"VOSTR"}}),e._v(" "),a("el-checkbox",{attrs:{label:"3D"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12}},[a("el-form-item",{attrs:{label:"Langues"}},[a("el-select",{attrs:{placeholder:"Select"},model:{value:e.form.language,callback:function(t){e.form.language=t},expression:"form.language"}},e._l(e.languages,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"Description"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:8}},model:{value:e.form.desc,callback:function(t){e.form.desc=t},expression:"form.desc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Synopsis"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:8}},model:{value:e.form.synopsis,callback:function(t){e.form.synopsis=t},expression:"form.synopsis"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"trailer"}},[a("el-input",{model:{value:e.form.trailer,callback:function(t){e.form.trailer=t},expression:"form.trailer"}}),e._v(" "),a("transition",{attrs:{name:"el-fade-in-linear"}},[a("youtube",{directives:[{name:"show",rawName:"v-show",value:""!==e.form.trailer,expression:"form.trailer !== ''"}],attrs:{"video-id":e.getTrailerUrl,"player-height":"400px","player-width":"100%"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"Movie Gallery"}},[a("el-upload",{ref:"upload",attrs:{name:"images",action:e.apiRoot+"/upload/images","list-type":"picture-card","on-success":e.handleListSuccess,"on-change":e.pushImages,"on-preview":e.handlePictureCardPreview,"on-remove":e.handleRemove,"auto-upload":!1}},[a("i",{staticClass:"el-icon-plus"})]),e._v(" "),a("el-dialog",{attrs:{size:"large"},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t},expression:"dialogVisible"}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})]),e._v(" "),a("el-button",{staticStyle:{"margin-top":"10px"},on:{click:e.submitImages}},[e._v("Upload Images")])],1)],1)],1)],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmit("form")}}},[e._v("Create")]),e._v(" "),a("el-button",{on:{click:function(t){e.resetForm("form")}}},[e._v("Reset")]),e._v(" "),a("el-button",{on:{click:e.back}},[e._v("Cancel")])],1)],1)],1)],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.editableValue,expression:"editableValue"}],staticClass:"el-input__inner",attrs:{type:"text"},domProps:{value:e.editableValue},on:{input:function(t){t.target.composing||(e.editableValue=t.target.value)}}})])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",[a("span",{domProps:{textContent:e._s(e.label)}}),e._v(" "),a("input",{ref:"input",class:e.className,attrs:{type:"text",placeholder:e.placeholder}})])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("el-col",{attrs:{span:4}},[a("ch-header")],1),e._v(" "),a("el-col",{staticClass:"main__wrapper",attrs:{span:14}},[a("router-view")],1),e._v(" "),a("el-col",{staticClass:"fixed__side",attrs:{span:6}},[a("div",{staticClass:"sidebar"},[a("div",{staticClass:"title__cinema"},[a("h2",[e._v("CHAPLIN")]),e._v(" "),a("h4",[e._v("Cinéma de Montmélian")])])])])],1)},staticRenderFns:[]}},function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{name:"el-fade-in-linear"}},[r("div",[r("el-menu",{staticClass:"el-menu-demo",attrs:{theme:"light","default-active":e.activeIndex,mode:"vertical"},on:{select:e.handleSelect}},[r("router-link",{staticClass:"little__chaplin",attrs:{to:"/"}},[r("img",{attrs:{src:a(371)}})]),e._v(" "),r("el-menu-item",{attrs:{index:"1"}},[r("router-link",{attrs:{to:"/"}},[e._v("\n                    Accueil\n                ")])],1),e._v(" "),r("el-menu-item",{attrs:{index:"2"}},[r("router-link",{attrs:{to:"/movies"}},[e._v("\n                    En Salle\n                ")])],1),e._v(" "),r("el-menu-item",{attrs:{index:"3"}},[r("router-link",{attrs:{to:"/movies"}},[e._v("\n                    Prochainement\n                ")])],1),e._v(" "),r("el-menu-item",{attrs:{index:"4"}},[r("router-link",{attrs:{to:"/infos"}},[e._v("\n                    Infos pratiques\n                ")])],1),e._v(" "),r("el-menu-item",{attrs:{index:"5"}},[r("router-link",{attrs:{to:"/contact"}},[e._v("\n                    Contact\n                ")])],1),e._v(" "),r("transition",{attrs:{name:"el-fade-in-linear"}},[e.auth.logged?r("div",[r("el-menu-item",{attrs:{index:"6"}},[r("router-link",{attrs:{to:"/users/"+e.auth.userId}},[e._v("\n                            Profil\n                        ")])],1),e._v(" "),r("el-menu-item",{attrs:{index:"7"}},[r("a",{on:{click:e.disconnect}},[e._v("Logout")])])],1):r("div",[r("el-menu-item",{attrs:{index:"6"}},[r("router-link",{attrs:{to:"/signin"}},[e._v("\n                            Se connecter\n                        ")])],1)],1)])],1)],1)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"el-fade-in-linear"}},[a("div",[a("el-col",{attrs:{span:24}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:18}},[a("h3",[e._v("Liste de films")])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"add__link"},[a("router-link",{directives:[{name:"show",rawName:"v-show",value:e.auth.logged&&"admin"==e.auth.role,expression:"auth.logged && auth.role == 'admin'"}],attrs:{to:"/movies/add"}},[a("el-button",[e._v("Add a movie")])],1)],1)])],1),e._v(" "),a("el-row",{attrs:{gutter:20}},e._l(e.movies,function(e,t){return a("el-col",{key:e._id,attrs:{xs:24,sm:12,md:8,lg:8}},[a("movie-card",{attrs:{movie:e}})],1)}))],1)],1)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"agenda_container"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.inputVal,expression:"inputVal"}],staticClass:"el-input__inner",attrs:{type:"button",name:e.name},domProps:{value:e.inputVal},on:{click:e.showAgenda,input:function(t){t.target.composing||(e.inputVal=t.target.value)}}}),e._v(" "),a("dp-agenda",{attrs:{date:e.date,visible:e.isVisible},on:{change:e.selectDate,cancel:e.hideAgenda}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",{ref:"input",attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.value}})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("\n    UsersList\n")])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{ref:"flyaway"},[e._t("default",[a("div",{domProps:{innerHTML:e._s(e.content)}})])],2)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"el-fade-in-linear"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12,offset:6}},[a("h4",[e._v("Se connecter")]),e._v(" "),a("el-form",{ref:"form",staticClass:"form-add",attrs:{rules:e.rules,"label-position":"top",model:e.user,"label-width":"120px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"Email",prop:"email"}},[a("el-input",{model:{value:e.user.email,callback:function(t){e.user.email=t},expression:"user.email"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"Password",prop:"password"}},[a("el-input",{model:{value:e.user.password,callback:function(t){e.user.password=t},expression:"user.password"}})],1)],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmit("form")}}},[e._v("Login")]),e._v(" "),a("el-button",{on:{click:e.back}},[e._v("Cancel")])],1)],1)],1)],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("\n    UserEdit\n")])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vue-map-container"},[a("div",{ref:"vue-map",staticClass:"vue-map"}),e._v(" "),a("div",{staticClass:"vue-map-hidden"},[e._t("default")],2),e._v(" "),e._t("visible")],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vue-street-view-pano-container"},[a("div",{ref:"vue-street-view-pano",staticClass:"vue-street-view-pano"}),e._v(" "),e._t("default")],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"el-fade-in-linear"}},[a("div",[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"background__cover"})]),e._v(" "),a("el-col",{attrs:{span:12}},[a("gmap-map",{staticStyle:{width:"100%",height:"300px"},attrs:{center:e.center,zoom:18}},e._l(e.markers,function(t,r){return a("gmap-marker",{key:r,attrs:{position:t.position,clickable:!0,draggable:!0},on:{click:function(a){e.center=t.position}}})}))],1)],1)],1)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"el-fade-in-linear"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"background__cover"},[a("div",{staticClass:"background__cover__overlay"}),e._v(" "),a("div",{staticClass:"movie__trailer",on:{click:e.playTrailer}},[a("transition",{attrs:{name:"el-fade-in-linear"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.displayTitle,expression:"displayTitle"}],staticClass:"player__button"},[a("i",{staticClass:"player__icon el-icon-caret-right"})])]),e._v(" "),a("youtube",{directives:[{name:"show",rawName:"v-show",value:e.trailerEnabled,expression:"trailerEnabled"}],staticClass:"yt__frame",attrs:{"video-id":e.movie.trailer,"player-height":"100%","player-width":"100%","player-vars":e.trailerOptions},on:{ready:e.ready,playing:function(t){e.animateTitle("playing")},ended:function(t){e.animateTitle("stopped")}}})],1),e._v(" "),a("image-loader",{attrs:{classname:"lazy__bg",imageUrl:e.bgCover}}),e._v(" "),a("transition",{attrs:{name:"el-fade-in-linear"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.displayTitle,expression:"displayTitle"}],staticClass:"background__details"},[a("p",{staticClass:"movie__release"},[e._v(e._s(e.movie.releaseDate))]),e._v(" "),a("h4",{staticClass:"movie__title"},[e._v(e._s(e.movie.title))]),e._v(" "),a("p",{staticClass:"movie__infos"},[a("span",{staticClass:"movie__duration"},[e._v(e._s(e.movie.duration))]),e._v(" |\n                            "),e._l(e.movie.genres,function(t,r){return a("span",{key:r,staticClass:"movie__genre"},[e._v(e._s(t)+" ")])}),e._v(" |\n                            "),a("span",{staticClass:"move__options"},[e._v(e._s(e.movie.checklist))])],2)])])],1)]),e._v(" "),a("el-row",{attrs:{gutter:15}},[a("el-col",{staticClass:"wrapper__details",class:{"slide-down":e.downWrapper},attrs:{span:22,offset:1}},[a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"main__desc"},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"cover"},[a("image-loader",{attrs:{classname:"lazy",imageUrl:e.cover}}),e._v(" "),a("router-link",{directives:[{name:"show",rawName:"v-show",value:e.auth.logged&&"admin"==e.auth.role,expression:"auth.logged && auth.role == 'admin'"}],attrs:{to:"/movies/"+e.movie._id+"/edit"}},[a("el-button",{attrs:{type:"primary"}},[e._v("Edit")])],1)],1)]),e._v(" "),a("el-col",{attrs:{span:18}},[a("ul",{staticClass:"movie__actors"},[a("li",[e._v("Acteurs |")]),e._v(" "),e._l(e.movie.actors,function(t,r){return a("li",{key:r},[e._v(e._s(t))])})],2),e._v(" "),a("ul",{staticClass:"movie__authors"},[a("li",[e._v("Auteurs |")]),e._v(" "),e._l(e.movie.authors,function(t,r){return a("li",{key:r},[e._v(e._s(t))])})],2),e._v(" "),a("hr"),e._v(" "),a("h5",[e._v("Synopsis")]),e._v(" "),a("p",[e._v(e._s(e.movie.synopsis))])])],1),e._v(" "),a("el-col",{attrs:{span:18}},[a("ul",e._l(e.movie.dates,function(t,r){return a("li",{key:r},[e._v(" "+e._s(t))])}))])],1)],1),e._v(" "),a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"movie__gallery movie__gallery-first"},[a("image-loader",{attrs:{classname:"lazy__set",imageUrl:e.imageSet[0]}})],1)]),e._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"movie__gallery"},[a("image-loader",{attrs:{classname:"lazy__set",imageUrl:e.imageSet[1]}})],1)]),e._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"movie__gallery"},[a("image-loader",{attrs:{classname:"lazy__set",imageUrl:e.imageSet[2]}})],1)])],1)],1)],1)],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"images-loaded",rawName:"v-images-loaded:on.progress",value:e.imageProgress,expression:"imageProgress",arg:"on",modifiers:{progress:!0}}],class:[e.classname,{loaded:e.loadedImage}]},[a("img",{staticClass:"image",attrs:{width:"100%",src:e.imageUrl}})])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"movie__card"},[a("router-link",{staticClass:"caption",attrs:{to:"/movies/"+e.movie._id,tag:"a"}},[a("image-loader",{attrs:{classname:"lazy",imageUrl:e.cover}})],1)],1)},staticRenderFns:[]}}],[279]);
//# sourceMappingURL=app.8cb19958eb0c068fe4fd.js.map